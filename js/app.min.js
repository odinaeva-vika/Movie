(()=>{"use strict";const t=document.getElementById("dropdownBtn"),e=document.getElementById("dropdownList"),n=e.querySelectorAll(".dropdown__list-item"),o=document.getElementById("dropdownInput");let s="";n.forEach((n=>{n.addEventListener("click",(function(n){n.stopPropagation(),t.innerText=this.innerText,t.focus(),s=this.dataset.value,o.value=s,e.classList.remove("dropdown__list--visible"),document.querySelectorAll(".box").forEach((t=>{const e=t.classList.contains("box--action");t.style.display="1"===s||"2"===s&&e||"3"===s&&!e?"flex":"none"}))}))})),t.addEventListener("click",(()=>{e.classList.toggle("dropdown__list--visible"),t.classList.toggle("dropdown__button--active")})),document.addEventListener("click",(n=>{n.target!==t&&(t.classList.remove("dropdown__button--active"),e.classList.remove("dropdown__list--visible"))}));const a=document.getElementById("taskForm"),i=document.getElementById("taskInput"),c=document.getElementById("taskBox"),l=[];function d(t){this.list=t,this.completed=!1}a.addEventListener("submit",(t=>{t.preventDefault(),l.push(new d(i.value)),c.innerHTML=l.map(((t,e)=>((t,e)=>`\n<div class="box ${t.completed?"box--action":""}" data-index="${e}">\n  <label class="box__label">\n                <input class="box__input" type="checkbox" value="" ${t.completed?"checked":""}>\n                <span data-action="done"></span>\n              </label>\n  <h2 class="box__title">${t.list}</h2>\n  <button data-action="delete" class="box__button">\n    <img src="./img/close.svg" alt="Удалить фильм из списка">\n  </button>\n</div>\n`)(t,e))).join(""),i.value=""})),c.addEventListener("click",(t=>{if("delete"===t.target.dataset.action){const e=t.target.closest(".box"),n=parseInt(e.dataset.index,10);e.remove(),l.splice(n,1)}})),c.addEventListener("click",(t=>{if("done"===t.target.dataset.action){const e=t.target.closest(".box");e.classList.toggle("box--action");const n=parseInt(e.dataset.index,10);l[n].completed=e.classList.contains("box--action")}})),function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();