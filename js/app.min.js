(()=>{"use strict";const e=document.getElementById("dropdownBtn"),t=document.getElementById("dropdownList"),n=t.querySelectorAll(".dropdown__list-item"),o=document.getElementById("dropdownInput");let s="";n.forEach((n=>{n.addEventListener("click",(function(n){n.stopPropagation(),e.innerText=this.innerText,e.focus(),s=this.dataset.value,o.value=s,t.classList.remove("dropdown__list--visible"),document.querySelectorAll(".box").forEach((e=>{const t=e.classList.contains("box--action");e.style.display="1"===s||"2"===s&&t||"3"===s&&!t?"flex":"none"}))}))})),e.addEventListener("click",(()=>{t.classList.toggle("dropdown__list--visible"),e.classList.toggle("dropdown__button--active")})),document.addEventListener("click",(n=>{n.target!==e&&(e.classList.remove("dropdown__button--active"),t.classList.remove("dropdown__list--visible"))}));const l=document.getElementById("form"),i=document.getElementById("input"),c=document.getElementById("box"),d=()=>i.value,a=[];function r(e){this.list=e,this.completed=!1}l.addEventListener("submit",(e=>{e.preventDefault(),0!==d().trim().length&&(a.push(new r(d())),c.innerHTML=a.map(((e,t)=>((e,t)=>`\n<div class="box ${e.completed?"box--action":""}" data-index="${t}">\n  <label class="box__label">\n    <input class="box__input" type="checkbox" value="" ${e.completed?"checked":""}>\n    <span data-action="done"></span>\n  </label>\n  <h2 class="box__title">${e.list}</h2>\n  <button data-action="delete" class="box__button">\n    <img src="./img/close.svg" alt="Удалить фильм из списка">\n  </button>\n</div>\n`)(e,t))).join(""),i.value="",i.focus())})),c.addEventListener("click",(e=>{const t=e.target.dataset.action,n=e.target.closest(".box"),o=parseInt(n.dataset.index,10);"delete"===t?(a.splice(o,1),n.remove()):"done"===t&&(a[o].completed=!a[o].completed,n.classList.toggle("box--action"))})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();