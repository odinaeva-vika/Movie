(()=>{"use strict";const t=document.querySelector(".dropdown__button"),e=document.querySelector(".dropdown__list"),o=e.querySelectorAll(".dropdown__list-item"),n=document.querySelector(".dropdown__input-hidden");t.addEventListener("click",(()=>{e.classList.toggle("dropdown__list--visible"),e.classList.toggle("dropdown__button--active")})),o.forEach((o=>{o.addEventListener("click",(function(o){var s;o.stopPropagation(),t.innerText=this.innerText,t.focus(),n.value=this.dataset.value,e.classList.remove("dropdown__list--visible"),s=this.dataset.value,taskBox.querySelectorAll(".box").forEach((t=>{const e=t.classList.contains("box--action");t.style.display="1"===s||"2"===s&&e||"3"===s&&!e?"flex":"none"}))}))})),document.addEventListener("click",(o=>{o.target!==t&&(t.classList.remove("dropdown__button--active"),e.classList.remove("dropdown__list--visible"))}));const s=document.querySelector("#taskForm"),a=document.querySelector("#taskInput"),c=document.querySelector("#taskBox"),i=[];function l(t){this.list=t,this.completed=!1}s.addEventListener("submit",(t=>{t.preventDefault(),d(),u(),r()}));const d=()=>{i.push(new l(a.value))},r=()=>{a.value=""},u=()=>{c.innerHTML=i.map(((t,e)=>((t,e)=>`\n<div class="box ${t.completed?"box--action":""}" data-index="${e}">\n  <label class="box__label">\n                <input class="box__input" type="checkbox" value="" ${t.completed?"checked":""}>\n                <span data-action="done"></span>\n              </label>\n  <h2 class="box__title">${t.list}</h2>\n  <button data-action="delete" class="box__button">\n    <img src="./img/close.svg" alt="Удалить фильм из списка">\n  </button>\n</div>\n`)(t,e))).join("")};c.addEventListener("click",(t=>{if("delete"===t.target.dataset.action){const e=t.target.closest(".box"),o=parseInt(e.dataset.index,10);e.remove(),i.splice(o,1)}else if("done"===t.target.dataset.action){const e=t.target.closest(".box");e.classList.toggle("box--action");const o=parseInt(e.dataset.index,10);i[o].completed=e.classList.contains("box--action")}})),function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();