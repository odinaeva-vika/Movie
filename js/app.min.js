(()=>{"use strict";const t=document.querySelector(".dropdown__button"),e=document.querySelector(".dropdown__list"),o=e.querySelectorAll(".dropdown__list-item"),n=document.querySelector(".dropdown__input-hidden");t.addEventListener("click",(()=>{e.classList.toggle("dropdown__list--visible"),e.classList.toggle("dropdown__button--active")})),o.forEach((o=>{o.addEventListener("click",(function(o){var s;o.stopPropagation(),t.innerText=this.innerText,t.focus(),n.value=this.dataset.value,e.classList.remove("dropdown__list--visible"),s=this.dataset.value,taskBox.querySelectorAll(".box").forEach((t=>{const e=t.classList.contains("box--action");t.style.display="1"===s||"2"===s&&e||"3"===s&&!e?"flex":"none"}))}))})),document.addEventListener("click",(o=>{o.target!==t&&(t.classList.remove("dropdown__button--active"),e.classList.remove("dropdown__list--visible"))}));const s=document.querySelector("#taskForm"),a=document.querySelector("#taskInput"),i=document.querySelector("#taskBox"),l=[];function c(t){this.list=t}s.addEventListener("submit",(t=>{t.target&&t.preventDefault(),d(),u(),r()}));const d=()=>{let t=new c(a.value);l.push(t)},r=()=>{a.value=""},u=()=>{i.innerHTML=l.map(((t,e)=>((t,e)=>`\n<div class="box" data-index="${e}">\n  <label class="box__label">\n                <input class="box__input" type="checkbox" name="color-5" value="green">\n                <span data-action="done"></span>\n              </label>\n  <h2 class="box__title">${t.list}</h2>\n  <button data-action="delete" class="box__button">\n    <img src="./img/close.svg" alt="Удалить фильм из списка">\n  </button>\n</div>\n`)(t,e))).join("")};i.addEventListener("click",(t=>{if("delete"===t.target.dataset.action){const e=t.target.closest(".box"),o=parseInt(e.dataset.index,10);e.remove(),l.splice(o,1)}})),i.addEventListener("click",(t=>{"done"===t.target.dataset.action&&t.target.closest(".box").classList.toggle("box--action")})),function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();